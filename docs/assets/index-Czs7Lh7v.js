(function () { const e = document.createElement("link").relList; if (e && e.supports && e.supports("modulepreload")) return; for (const i of document.querySelectorAll('link[rel="modulepreload"]')) r(i); new MutationObserver(i => { for (const o of i) if (o.type === "childList") for (const s of o.addedNodes) s.tagName === "LINK" && s.rel === "modulepreload" && r(s) }).observe(document, { childList: !0, subtree: !0 }); function n(i) { const o = {}; return i.integrity && (o.integrity = i.integrity), i.referrerPolicy && (o.referrerPolicy = i.referrerPolicy), i.crossOrigin === "use-credentials" ? o.credentials = "include" : i.crossOrigin === "anonymous" ? o.credentials = "omit" : o.credentials = "same-origin", o } function r(i) { if (i.ep) return; i.ep = !0; const o = n(i); fetch(i.href, o) } })(); class jn extends Map { constructor(e, n = nr) { if (super(), Object.defineProperties(this, { _intern: { value: new Map }, _key: { value: n } }), e != null) for (const [r, i] of e) this.set(r, i) } get(e) { return super.get(qe(this, e)) } has(e) { return super.has(qe(this, e)) } set(e, n) { return super.set(tr(this, e), n) } delete(e) { return super.delete(er(this, e)) } } function qe({ _intern: t, _key: e }, n) { const r = e(n); return t.has(r) ? t.get(r) : n } function tr({ _intern: t, _key: e }, n) { const r = e(n); return t.has(r) ? t.get(r) : (t.set(r, n), n) } function er({ _intern: t, _key: e }, n) { const r = e(n); return t.has(r) && (n = t.get(r), t.delete(r)), n } function nr(t) { return t !== null && typeof t == "object" ? t.valueOf() : t } function Fe(t) { return t } function rr(t, ...e) { return ir(t, Fe, Fe, e) } function ir(t, e, n, r) { return (function i(o, s) { if (s >= r.length) return n(o); const a = new jn, c = r[s++]; let u = -1; for (const d of o) { const l = c(d, ++u, o), h = a.get(l); h ? h.push(d) : a.set(l, [d]) } for (const [d, l] of a) a.set(d, i(l, s)); return e(a) })(t, 0) } function sn(t, e, n) { t = +t, e = +e, n = (i = arguments.length) < 2 ? (e = t, t = 0, 1) : i < 3 ? 1 : +n; for (var r = -1, i = Math.max(0, Math.ceil((e - t) / n)) | 0, o = new Array(i); ++r < i;)o[r] = t + r * n; return o } var or = { value: () => { } }; function ke() { for (var t = 0, e = arguments.length, n = {}, r; t < e; ++t) { if (!(r = arguments[t] + "") || r in n || /[\s.]/.test(r)) throw new Error("illegal type: " + r); n[r] = [] } return new zt(n) } function zt(t) { this._ = t } function sr(t, e) { return t.trim().split(/^|\s+/).map(function (n) { var r = "", i = n.indexOf("."); if (i >= 0 && (r = n.slice(i + 1), n = n.slice(0, i)), n && !e.hasOwnProperty(n)) throw new Error("unknown type: " + n); return { type: n, name: r } }) } zt.prototype = ke.prototype = { constructor: zt, on: function (t, e) { var n = this._, r = sr(t + "", n), i, o = -1, s = r.length; if (arguments.length < 2) { for (; ++o < s;)if ((i = (t = r[o]).type) && (i = ar(n[i], t.name))) return i; return } if (e != null && typeof e != "function") throw new Error("invalid callback: " + e); for (; ++o < s;)if (i = (t = r[o]).type) n[i] = De(n[i], t.name, e); else if (e == null) for (i in n) n[i] = De(n[i], t.name, null); return this }, copy: function () { var t = {}, e = this._; for (var n in e) t[n] = e[n].slice(); return new zt(t) }, call: function (t, e) { if ((i = arguments.length - 2) > 0) for (var n = new Array(i), r = 0, i, o; r < i; ++r)n[r] = arguments[r + 2]; if (!this._.hasOwnProperty(t)) throw new Error("unknown type: " + t); for (o = this._[t], r = 0, i = o.length; r < i; ++r)o[r].value.apply(e, n) }, apply: function (t, e, n) { if (!this._.hasOwnProperty(t)) throw new Error("unknown type: " + t); for (var r = this._[t], i = 0, o = r.length; i < o; ++i)r[i].value.apply(e, n) } }; function ar(t, e) { for (var n = 0, r = t.length, i; n < r; ++n)if ((i = t[n]).name === e) return i.value } function De(t, e, n) { for (var r = 0, i = t.length; r < i; ++r)if (t[r].name === e) { t[r] = or, t = t.slice(0, r).concat(t.slice(r + 1)); break } return n != null && t.push({ name: e, value: n }), t } var he = "http://www.w3.org/1999/xhtml"; const Oe = { svg: "http://www.w3.org/2000/svg", xhtml: he, xlink: "http://www.w3.org/1999/xlink", xml: "http://www.w3.org/XML/1998/namespace", xmlns: "http://www.w3.org/2000/xmlns/" }; function Ut(t) { var e = t += "", n = e.indexOf(":"); return n >= 0 && (e = t.slice(0, n)) !== "xmlns" && (t = t.slice(n + 1)), Oe.hasOwnProperty(e) ? { space: Oe[e], local: t } : t } function cr(t) { return function () { var e = this.ownerDocument, n = this.namespaceURI; return n === he && e.documentElement.namespaceURI === he ? e.createElement(t) : e.createElementNS(n, t) } } function lr(t) { return function () { return this.ownerDocument.createElementNS(t.space, t.local) } } function an(t) { var e = Ut(t); return (e.local ? lr : cr)(e) } function ur() { } function Ae(t) { return t == null ? ur : function () { return this.querySelector(t) } } function fr(t) { typeof t != "function" && (t = Ae(t)); for (var e = this._groups, n = e.length, r = new Array(n), i = 0; i < n; ++i)for (var o = e[i], s = o.length, a = r[i] = new Array(s), c, u, d = 0; d < s; ++d)(c = o[d]) && (u = t.call(c, c.__data__, d, o)) && ("__data__" in c && (u.__data__ = c.__data__), a[d] = u); return new q(r, this._parents) } function hr(t) { return t == null ? [] : Array.isArray(t) ? t : Array.from(t) } function dr() { return [] } function cn(t) { return t == null ? dr : function () { return this.querySelectorAll(t) } } function pr(t) { return function () { return hr(t.apply(this, arguments)) } } function gr(t) { typeof t == "function" ? t = pr(t) : t = cn(t); for (var e = this._groups, n = e.length, r = [], i = [], o = 0; o < n; ++o)for (var s = e[o], a = s.length, c, u = 0; u < a; ++u)(c = s[u]) && (r.push(t.call(c, c.__data__, u, s)), i.push(c)); return new q(r, i) } function ln(t) { return function () { return this.matches(t) } } function un(t) { return function (e) { return e.matches(t) } } var mr = Array.prototype.find; function yr(t) { return function () { return mr.call(this.children, t) } } function _r() { return this.firstElementChild } function vr(t) { return this.select(t == null ? _r : yr(typeof t == "function" ? t : un(t))) } var wr = Array.prototype.filter; function xr() { return Array.from(this.children) } function br(t) { return function () { return wr.call(this.children, t) } } function $r(t) { return this.selectAll(t == null ? xr : br(typeof t == "function" ? t : un(t))) } function Mr(t) { typeof t != "function" && (t = ln(t)); for (var e = this._groups, n = e.length, r = new Array(n), i = 0; i < n; ++i)for (var o = e[i], s = o.length, a = r[i] = [], c, u = 0; u < s; ++u)(c = o[u]) && t.call(c, c.__data__, u, o) && a.push(c); return new q(r, this._parents) } function fn(t) { return new Array(t.length) } function kr() { return new q(this._enter || this._groups.map(fn), this._parents) } function Ot(t, e) { this.ownerDocument = t.ownerDocument, this.namespaceURI = t.namespaceURI, this._next = null, this._parent = t, this.__data__ = e } Ot.prototype = { constructor: Ot, appendChild: function (t) { return this._parent.insertBefore(t, this._next) }, insertBefore: function (t, e) { return this._parent.insertBefore(t, e) }, querySelector: function (t) { return this._parent.querySelector(t) }, querySelectorAll: function (t) { return this._parent.querySelectorAll(t) } }; function Ar(t) { return function () { return t } } function Er(t, e, n, r, i, o) { for (var s = 0, a, c = e.length, u = o.length; s < u; ++s)(a = e[s]) ? (a.__data__ = o[s], r[s] = a) : n[s] = new Ot(t, o[s]); for (; s < c; ++s)(a = e[s]) && (i[s] = a) } function Sr(t, e, n, r, i, o, s) { var a, c, u = new Map, d = e.length, l = o.length, h = new Array(d), f; for (a = 0; a < d; ++a)(c = e[a]) && (h[a] = f = s.call(c, c.__data__, a, e) + "", u.has(f) ? i[a] = c : u.set(f, c)); for (a = 0; a < l; ++a)f = s.call(t, o[a], a, o) + "", (c = u.get(f)) ? (r[a] = c, c.__data__ = o[a], u.delete(f)) : n[a] = new Ot(t, o[a]); for (a = 0; a < d; ++a)(c = e[a]) && u.get(h[a]) === c && (i[a] = c) } function Nr(t) { return t.__data__ } function Ir(t, e) { if (!arguments.length) return Array.from(this, Nr); var n = e ? Sr : Er, r = this._parents, i = this._groups; typeof t != "function" && (t = Ar(t)); for (var o = i.length, s = new Array(o), a = new Array(o), c = new Array(o), u = 0; u < o; ++u) { var d = r[u], l = i[u], h = l.length, f = Tr(t.call(d, d && d.__data__, u, r)), y = f.length, _ = a[u] = new Array(y), v = s[u] = new Array(y), m = c[u] = new Array(h); n(d, l, _, v, m, f, e); for (var b = 0, E = 0, M, N; b < y; ++b)if (M = _[b]) { for (b >= E && (E = b + 1); !(N = v[E]) && ++E < y;); M._next = N || null } } return s = new q(s, r), s._enter = a, s._exit = c, s } function Tr(t) { return typeof t == "object" && "length" in t ? t : Array.from(t) } function Lr() { return new q(this._exit || this._groups.map(fn), this._parents) } function Cr(t, e, n) { var r = this.enter(), i = this, o = this.exit(); return typeof t == "function" ? (r = t(r), r && (r = r.selection())) : r = r.append(t + ""), e != null && (i = e(i), i && (i = i.selection())), n == null ? o.remove() : n(o), r && i ? r.merge(i).order() : i } function Pr(t) { for (var e = t.selection ? t.selection() : t, n = this._groups, r = e._groups, i = n.length, o = r.length, s = Math.min(i, o), a = new Array(i), c = 0; c < s; ++c)for (var u = n[c], d = r[c], l = u.length, h = a[c] = new Array(l), f, y = 0; y < l; ++y)(f = u[y] || d[y]) && (h[y] = f); for (; c < i; ++c)a[c] = n[c]; return new q(a, this._parents) } function Rr() { for (var t = this._groups, e = -1, n = t.length; ++e < n;)for (var r = t[e], i = r.length - 1, o = r[i], s; --i >= 0;)(s = r[i]) && (o && s.compareDocumentPosition(o) ^ 4 && o.parentNode.insertBefore(s, o), o = s); return this } function zr(t) { t || (t = qr); function e(l, h) { return l && h ? t(l.__data__, h.__data__) : !l - !h } for (var n = this._groups, r = n.length, i = new Array(r), o = 0; o < r; ++o) { for (var s = n[o], a = s.length, c = i[o] = new Array(a), u, d = 0; d < a; ++d)(u = s[d]) && (c[d] = u); c.sort(e) } return new q(i, this._parents).order() } function qr(t, e) { return t < e ? -1 : t > e ? 1 : t >= e ? 0 : NaN } function Fr() { var t = arguments[0]; return arguments[0] = this, t.apply(null, arguments), this } function Dr() { return Array.from(this) } function Or() { for (var t = this._groups, e = 0, n = t.length; e < n; ++e)for (var r = t[e], i = 0, o = r.length; i < o; ++i) { var s = r[i]; if (s) return s } return null } function Br() { let t = 0; for (const e of this) ++t; return t } function Hr() { return !this.node() } function Xr(t) { for (var e = this._groups, n = 0, r = e.length; n < r; ++n)for (var i = e[n], o = 0, s = i.length, a; o < s; ++o)(a = i[o]) && t.call(a, a.__data__, o, i); return this } function Gr(t) { return function () { this.removeAttribute(t) } } function Vr(t) { return function () { this.removeAttributeNS(t.space, t.local) } } function Yr(t, e) { return function () { this.setAttribute(t, e) } } function Wr(t, e) { return function () { this.setAttributeNS(t.space, t.local, e) } } function Kr(t, e) { return function () { var n = e.apply(this, arguments); n == null ? this.removeAttribute(t) : this.setAttribute(t, n) } } function Ur(t, e) { return function () { var n = e.apply(this, arguments); n == null ? this.removeAttributeNS(t.space, t.local) : this.setAttributeNS(t.space, t.local, n) } } function Qr(t, e) { var n = Ut(t); if (arguments.length < 2) { var r = this.node(); return n.local ? r.getAttributeNS(n.space, n.local) : r.getAttribute(n) } return this.each((e == null ? n.local ? Vr : Gr : typeof e == "function" ? n.local ? Ur : Kr : n.local ? Wr : Yr)(n, e)) } function hn(t) { return t.ownerDocument && t.ownerDocument.defaultView || t.document && t || t.defaultView } function Zr(t) { return function () { this.style.removeProperty(t) } } function Jr(t, e, n) { return function () { this.style.setProperty(t, e, n) } } function jr(t, e, n) { return function () { var r = e.apply(this, arguments); r == null ? this.style.removeProperty(t) : this.style.setProperty(t, r, n) } } function ti(t, e, n) { return arguments.length > 1 ? this.each((e == null ? Zr : typeof e == "function" ? jr : Jr)(t, e, n ?? "")) : dt(this.node(), t) } function dt(t, e) { return t.style.getPropertyValue(e) || hn(t).getComputedStyle(t, null).getPropertyValue(e) } function ei(t) { return function () { delete this[t] } } function ni(t, e) { return function () { this[t] = e } } function ri(t, e) { return function () { var n = e.apply(this, arguments); n == null ? delete this[t] : this[t] = n } } function ii(t, e) { return arguments.length > 1 ? this.each((e == null ? ei : typeof e == "function" ? ri : ni)(t, e)) : this.node()[t] } function dn(t) { return t.trim().split(/^|\s+/) } function Ee(t) { return t.classList || new pn(t) } function pn(t) { this._node = t, this._names = dn(t.getAttribute("class") || "") } pn.prototype = { add: function (t) { var e = this._names.indexOf(t); e < 0 && (this._names.push(t), this._node.setAttribute("class", this._names.join(" "))) }, remove: function (t) { var e = this._names.indexOf(t); e >= 0 && (this._names.splice(e, 1), this._node.setAttribute("class", this._names.join(" "))) }, contains: function (t) { return this._names.indexOf(t) >= 0 } }; function gn(t, e) { for (var n = Ee(t), r = -1, i = e.length; ++r < i;)n.add(e[r]) } function mn(t, e) { for (var n = Ee(t), r = -1, i = e.length; ++r < i;)n.remove(e[r]) } function oi(t) { return function () { gn(this, t) } } function si(t) { return function () { mn(this, t) } } function ai(t, e) { return function () { (e.apply(this, arguments) ? gn : mn)(this, t) } } function ci(t, e) { var n = dn(t + ""); if (arguments.length < 2) { for (var r = Ee(this.node()), i = -1, o = n.length; ++i < o;)if (!r.contains(n[i])) return !1; return !0 } return this.each((typeof e == "function" ? ai : e ? oi : si)(n, e)) } function li() { this.textContent = "" } function ui(t) { return function () { this.textContent = t } } function fi(t) { return function () { var e = t.apply(this, arguments); this.textContent = e ?? "" } } function hi(t) { return arguments.length ? this.each(t == null ? li : (typeof t == "function" ? fi : ui)(t)) : this.node().textContent } function di() { this.innerHTML = "" } function pi(t) { return function () { this.innerHTML = t } } function gi(t) { return function () { var e = t.apply(this, arguments); this.innerHTML = e ?? "" } } function mi(t) { return arguments.length ? this.each(t == null ? di : (typeof t == "function" ? gi : pi)(t)) : this.node().innerHTML } function yi() { this.nextSibling && this.parentNode.appendChild(this) } function _i() { return this.each(yi) } function vi() { this.previousSibling && this.parentNode.insertBefore(this, this.parentNode.firstChild) } function wi() { return this.each(vi) } function xi(t) { var e = typeof t == "function" ? t : an(t); return this.select(function () { return this.appendChild(e.apply(this, arguments)) }) } function bi() { return null } function $i(t, e) { var n = typeof t == "function" ? t : an(t), r = e == null ? bi : typeof e == "function" ? e : Ae(e); return this.select(function () { return this.insertBefore(n.apply(this, arguments), r.apply(this, arguments) || null) }) } function Mi() { var t = this.parentNode; t && t.removeChild(this) } function ki() { return this.each(Mi) } function Ai() { var t = this.cloneNode(!1), e = this.parentNode; return e ? e.insertBefore(t, this.nextSibling) : t } function Ei() { var t = this.cloneNode(!0), e = this.parentNode; return e ? e.insertBefore(t, this.nextSibling) : t } function Si(t) { return this.select(t ? Ei : Ai) } function Ni(t) { return arguments.length ? this.property("__data__", t) : this.node().__data__ } function Ii(t) { return function (e) { t.call(this, e, this.__data__) } } function Ti(t) { return t.trim().split(/^|\s+/).map(function (e) { var n = "", r = e.indexOf("."); return r >= 0 && (n = e.slice(r + 1), e = e.slice(0, r)), { type: e, name: n } }) } function Li(t) { return function () { var e = this.__on; if (e) { for (var n = 0, r = -1, i = e.length, o; n < i; ++n)o = e[n], (!t.type || o.type === t.type) && o.name === t.name ? this.removeEventListener(o.type, o.listener, o.options) : e[++r] = o; ++r ? e.length = r : delete this.__on } } } function Ci(t, e, n) { return function () { var r = this.__on, i, o = Ii(e); if (r) { for (var s = 0, a = r.length; s < a; ++s)if ((i = r[s]).type === t.type && i.name === t.name) { this.removeEventListener(i.type, i.listener, i.options), this.addEventListener(i.type, i.listener = o, i.options = n), i.value = e; return } } this.addEventListener(t.type, o, n), i = { type: t.type, name: t.name, value: e, listener: o, options: n }, r ? r.push(i) : this.__on = [i] } } function Pi(t, e, n) { var r = Ti(t + ""), i, o = r.length, s; if (arguments.length < 2) { var a = this.node().__on; if (a) { for (var c = 0, u = a.length, d; c < u; ++c)for (i = 0, d = a[c]; i < o; ++i)if ((s = r[i]).type === d.type && s.name === d.name) return d.value } return } for (a = e ? Ci : Li, i = 0; i < o; ++i)this.each(a(r[i], e, n)); return this } function yn(t, e, n) { var r = hn(t), i = r.CustomEvent; typeof i == "function" ? i = new i(e, n) : (i = r.document.createEvent("Event"), n ? (i.initEvent(e, n.bubbles, n.cancelable), i.detail = n.detail) : i.initEvent(e, !1, !1)), t.dispatchEvent(i) } function Ri(t, e) { return function () { return yn(this, t, e) } } function zi(t, e) { return function () { return yn(this, t, e.apply(this, arguments)) } } function qi(t, e) { return this.each((typeof e == "function" ? zi : Ri)(t, e)) } function* Fi() { for (var t = this._groups, e = 0, n = t.length; e < n; ++e)for (var r = t[e], i = 0, o = r.length, s; i < o; ++i)(s = r[i]) && (yield s) } var _n = [null]; function q(t, e) { this._groups = t, this._parents = e } function Et() { return new q([[document.documentElement]], _n) } function Di() { return this } q.prototype = Et.prototype = { constructor: q, select: fr, selectAll: gr, selectChild: vr, selectChildren: $r, filter: Mr, data: Ir, enter: kr, exit: Lr, join: Cr, merge: Pr, selection: Di, order: Rr, sort: zr, call: Fr, nodes: Dr, node: Or, size: Br, empty: Hr, each: Xr, attr: Qr, style: ti, property: ii, classed: ci, text: hi, html: mi, raise: _i, lower: wi, append: xi, insert: $i, remove: ki, clone: Si, datum: Ni, on: Pi, dispatch: qi, [Symbol.iterator]: Fi }; function G(t) { return typeof t == "string" ? new q([[document.querySelector(t)]], [document.documentElement]) : new q([[t]], _n) } function Oi(t) { let e; for (; e = t.sourceEvent;)t = e; return t } function rt(t, e) { if (t = Oi(t), e === void 0 && (e = t.currentTarget), e) { var n = e.ownerSVGElement || e; if (n.createSVGPoint) { var r = n.createSVGPoint(); return r.x = t.clientX, r.y = t.clientY, r = r.matrixTransform(e.getScreenCTM().inverse()), [r.x, r.y] } if (e.getBoundingClientRect) { var i = e.getBoundingClientRect(); return [t.clientX - i.left - e.clientLeft, t.clientY - i.top - e.clientTop] } } return [t.pageX, t.pageY] } const de = { capture: !0, passive: !1 }; function pe(t) { t.preventDefault(), t.stopImmediatePropagation() } function Bi(t) { var e = t.document.documentElement, n = G(t).on("dragstart.drag", pe, de); "onselectstart" in e ? n.on("selectstart.drag", pe, de) : (e.__noselect = e.style.MozUserSelect, e.style.MozUserSelect = "none") } function Hi(t, e) { var n = t.document.documentElement, r = G(t).on("dragstart.drag", null); e && (r.on("click.drag", pe, de), setTimeout(function () { r.on("click.drag", null) }, 0)), "onselectstart" in n ? r.on("selectstart.drag", null) : (n.style.MozUserSelect = n.__noselect, delete n.__noselect) } function Se(t, e, n) { t.prototype = e.prototype = n, n.constructor = t } function vn(t, e) { var n = Object.create(t.prototype); for (var r in e) n[r] = e[r]; return n } function St() { } var xt = .7, Bt = 1 / xt, ht = "\\s*([+-]?\\d+)\\s*", bt = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*", Y = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*", Xi = /^#([0-9a-f]{3,8})$/, Gi = new RegExp(`^rgb\\(${ht},${ht},${ht}\\)$`), Vi = new RegExp(`^rgb\\(${Y},${Y},${Y}\\)$`), Yi = new RegExp(`^rgba\\(${ht},${ht},${ht},${bt}\\)$`), Wi = new RegExp(`^rgba\\(${Y},${Y},${Y},${bt}\\)$`), Ki = new RegExp(`^hsl\\(${bt},${Y},${Y}\\)$`), Ui = new RegExp(`^hsla\\(${bt},${Y},${Y},${bt}\\)$`), Be = { aliceblue: 15792383, antiquewhite: 16444375, aqua: 65535, aquamarine: 8388564, azure: 15794175, beige: 16119260, bisque: 16770244, black: 0, blanchedalmond: 16772045, blue: 255, blueviolet: 9055202, brown: 10824234, burlywood: 14596231, cadetblue: 6266528, chartreuse: 8388352, chocolate: 13789470, coral: 16744272, cornflowerblue: 6591981, cornsilk: 16775388, crimson: 14423100, cyan: 65535, darkblue: 139, darkcyan: 35723, darkgoldenrod: 12092939, darkgray: 11119017, darkgreen: 25600, darkgrey: 11119017, darkkhaki: 12433259, darkmagenta: 9109643, darkolivegreen: 5597999, darkorange: 16747520, darkorchid: 10040012, darkred: 9109504, darksalmon: 15308410, darkseagreen: 9419919, darkslateblue: 4734347, darkslategray: 3100495, darkslategrey: 3100495, darkturquoise: 52945, darkviolet: 9699539, deeppink: 16716947, deepskyblue: 49151, dimgray: 6908265, dimgrey: 6908265, dodgerblue: 2003199, firebrick: 11674146, floralwhite: 16775920, forestgreen: 2263842, fuchsia: 16711935, gainsboro: 14474460, ghostwhite: 16316671, gold: 16766720, goldenrod: 14329120, gray: 8421504, green: 32768, greenyellow: 11403055, grey: 8421504, honeydew: 15794160, hotpink: 16738740, indianred: 13458524, indigo: 4915330, ivory: 16777200, khaki: 15787660, lavender: 15132410, lavenderblush: 16773365, lawngreen: 8190976, lemonchiffon: 16775885, lightblue: 11393254, lightcoral: 15761536, lightcyan: 14745599, lightgoldenrodyellow: 16448210, lightgray: 13882323, lightgreen: 9498256, lightgrey: 13882323, lightpink: 16758465, lightsalmon: 16752762, lightseagreen: 2142890, lightskyblue: 8900346, lightslategray: 7833753, lightslategrey: 7833753, lightsteelblue: 11584734, lightyellow: 16777184, lime: 65280, limegreen: 3329330, linen: 16445670, magenta: 16711935, maroon: 8388608, mediumaquamarine: 6737322, mediumblue: 205, mediumorchid: 12211667, mediumpurple: 9662683, mediumseagreen: 3978097, mediumslateblue: 8087790, mediumspringgreen: 64154, mediumturquoise: 4772300, mediumvioletred: 13047173, midnightblue: 1644912, mintcream: 16121850, mistyrose: 16770273, moccasin: 16770229, navajowhite: 16768685, navy: 128, oldlace: 16643558, olive: 8421376, olivedrab: 7048739, orange: 16753920, orangered: 16729344, orchid: 14315734, palegoldenrod: 15657130, palegreen: 10025880, paleturquoise: 11529966, palevioletred: 14381203, papayawhip: 16773077, peachpuff: 16767673, peru: 13468991, pink: 16761035, plum: 14524637, powderblue: 11591910, purple: 8388736, rebeccapurple: 6697881, red: 16711680, rosybrown: 12357519, royalblue: 4286945, saddlebrown: 9127187, salmon: 16416882, sandybrown: 16032864, seagreen: 3050327, seashell: 16774638, sienna: 10506797, silver: 12632256, skyblue: 8900331, slateblue: 6970061, slategray: 7372944, slategrey: 7372944, snow: 16775930, springgreen: 65407, steelblue: 4620980, tan: 13808780, teal: 32896, thistle: 14204888, tomato: 16737095, turquoise: 4251856, violet: 15631086, wheat: 16113331, white: 16777215, whitesmoke: 16119285, yellow: 16776960, yellowgreen: 10145074 }; Se(St, $t, { copy(t) { return Object.assign(new this.constructor, this, t) }, displayable() { return this.rgb().displayable() }, hex: He, formatHex: He, formatHex8: Qi, formatHsl: Zi, formatRgb: Xe, toString: Xe }); function He() { return this.rgb().formatHex() } function Qi() { return this.rgb().formatHex8() } function Zi() { return wn(this).formatHsl() } function Xe() { return this.rgb().formatRgb() } function $t(t) { var e, n; return t = (t + "").trim().toLowerCase(), (e = Xi.exec(t)) ? (n = e[1].length, e = parseInt(e[1], 16), n === 6 ? Ge(e) : n === 3 ? new z(e >> 8 & 15 | e >> 4 & 240, e >> 4 & 15 | e & 240, (e & 15) << 4 | e & 15, 1) : n === 8 ? It(e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, (e & 255) / 255) : n === 4 ? It(e >> 12 & 15 | e >> 8 & 240, e >> 8 & 15 | e >> 4 & 240, e >> 4 & 15 | e & 240, ((e & 15) << 4 | e & 15) / 255) : null) : (e = Gi.exec(t)) ? new z(e[1], e[2], e[3], 1) : (e = Vi.exec(t)) ? new z(e[1] * 255 / 100, e[2] * 255 / 100, e[3] * 255 / 100, 1) : (e = Yi.exec(t)) ? It(e[1], e[2], e[3], e[4]) : (e = Wi.exec(t)) ? It(e[1] * 255 / 100, e[2] * 255 / 100, e[3] * 255 / 100, e[4]) : (e = Ki.exec(t)) ? We(e[1], e[2] / 100, e[3] / 100, 1) : (e = Ui.exec(t)) ? We(e[1], e[2] / 100, e[3] / 100, e[4]) : Be.hasOwnProperty(t) ? Ge(Be[t]) : t === "transparent" ? new z(NaN, NaN, NaN, 0) : null } function Ge(t) { return new z(t >> 16 & 255, t >> 8 & 255, t & 255, 1) } function It(t, e, n, r) { return r <= 0 && (t = e = n = NaN), new z(t, e, n, r) } function Ji(t) { return t instanceof St || (t = $t(t)), t ? (t = t.rgb(), new z(t.r, t.g, t.b, t.opacity)) : new z } function ge(t, e, n, r) { return arguments.length === 1 ? Ji(t) : new z(t, e, n, r ?? 1) } function z(t, e, n, r) { this.r = +t, this.g = +e, this.b = +n, this.opacity = +r } Se(z, ge, vn(St, { brighter(t) { return t = t == null ? Bt : Math.pow(Bt, t), new z(this.r * t, this.g * t, this.b * t, this.opacity) }, darker(t) { return t = t == null ? xt : Math.pow(xt, t), new z(this.r * t, this.g * t, this.b * t, this.opacity) }, rgb() { return this }, clamp() { return new z(at(this.r), at(this.g), at(this.b), Ht(this.opacity)) }, displayable() { return -.5 <= this.r && this.r < 255.5 && -.5 <= this.g && this.g < 255.5 && -.5 <= this.b && this.b < 255.5 && 0 <= this.opacity && this.opacity <= 1 }, hex: Ve, formatHex: Ve, formatHex8: ji, formatRgb: Ye, toString: Ye })); function Ve() { return `#${st(this.r)}${st(this.g)}${st(this.b)}` } function ji() { return `#${st(this.r)}${st(this.g)}${st(this.b)}${st((isNaN(this.opacity) ? 1 : this.opacity) * 255)}` } function Ye() { const t = Ht(this.opacity); return `${t === 1 ? "rgb(" : "rgba("}${at(this.r)}, ${at(this.g)}, ${at(this.b)}${t === 1 ? ")" : `, ${t})`}` } function Ht(t) { return isNaN(t) ? 1 : Math.max(0, Math.min(1, t)) } function at(t) { return Math.max(0, Math.min(255, Math.round(t) || 0)) } function st(t) { return t = at(t), (t < 16 ? "0" : "") + t.toString(16) } function We(t, e, n, r) { return r <= 0 ? t = e = n = NaN : n <= 0 || n >= 1 ? t = e = NaN : e <= 0 && (t = NaN), new B(t, e, n, r) } function wn(t) { if (t instanceof B) return new B(t.h, t.s, t.l, t.opacity); if (t instanceof St || (t = $t(t)), !t) return new B; if (t instanceof B) return t; t = t.rgb(); var e = t.r / 255, n = t.g / 255, r = t.b / 255, i = Math.min(e, n, r), o = Math.max(e, n, r), s = NaN, a = o - i, c = (o + i) / 2; return a ? (e === o ? s = (n - r) / a + (n < r) * 6 : n === o ? s = (r - e) / a + 2 : s = (e - n) / a + 4, a /= c < .5 ? o + i : 2 - o - i, s *= 60) : a = c > 0 && c < 1 ? 0 : s, new B(s, a, c, t.opacity) } function to(t, e, n, r) { return arguments.length === 1 ? wn(t) : new B(t, e, n, r ?? 1) } function B(t, e, n, r) { this.h = +t, this.s = +e, this.l = +n, this.opacity = +r } Se(B, to, vn(St, { brighter(t) { return t = t == null ? Bt : Math.pow(Bt, t), new B(this.h, this.s, this.l * t, this.opacity) }, darker(t) { return t = t == null ? xt : Math.pow(xt, t), new B(this.h, this.s, this.l * t, this.opacity) }, rgb() { var t = this.h % 360 + (this.h < 0) * 360, e = isNaN(t) || isNaN(this.s) ? 0 : this.s, n = this.l, r = n + (n < .5 ? n : 1 - n) * e, i = 2 * n - r; return new z(re(t >= 240 ? t - 240 : t + 120, i, r), re(t, i, r), re(t < 120 ? t + 240 : t - 120, i, r), this.opacity) }, clamp() { return new B(Ke(this.h), Tt(this.s), Tt(this.l), Ht(this.opacity)) }, displayable() { return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1 }, formatHsl() { const t = Ht(this.opacity); return `${t === 1 ? "hsl(" : "hsla("}${Ke(this.h)}, ${Tt(this.s) * 100}%, ${Tt(this.l) * 100}%${t === 1 ? ")" : `, ${t})`}` } })); function Ke(t) { return t = (t || 0) % 360, t < 0 ? t + 360 : t } function Tt(t) { return Math.max(0, Math.min(1, t || 0)) } function re(t, e, n) { return (t < 60 ? e + (n - e) * t / 60 : t < 180 ? n : t < 240 ? e + (n - e) * (240 - t) / 60 : e) * 255 } const xn = t => () => t; function eo(t, e) { return function (n) { return t + n * e } } function no(t, e, n) { return t = Math.pow(t, n), e = Math.pow(e, n) - t, n = 1 / n, function (r) { return Math.pow(t + r * e, n) } } function ro(t) { return (t = +t) == 1 ? bn : function (e, n) { return n - e ? no(e, n, t) : xn(isNaN(e) ? n : e) } } function bn(t, e) { var n = e - t; return n ? eo(t, n) : xn(isNaN(t) ? e : t) } const Ue = (function t(e) { var n = ro(e); function r(i, o) { var s = n((i = ge(i)).r, (o = ge(o)).r), a = n(i.g, o.g), c = n(i.b, o.b), u = bn(i.opacity, o.opacity); return function (d) { return i.r = s(d), i.g = a(d), i.b = c(d), i.opacity = u(d), i + "" } } return r.gamma = t, r })(1); function et(t, e) { return t = +t, e = +e, function (n) { return t * (1 - n) + e * n } } var me = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g, ie = new RegExp(me.source, "g"); function io(t) { return function () { return t } } function oo(t) { return function (e) { return t(e) + "" } } function so(t, e) { var n = me.lastIndex = ie.lastIndex = 0, r, i, o, s = -1, a = [], c = []; for (t = t + "", e = e + ""; (r = me.exec(t)) && (i = ie.exec(e));)(o = i.index) > n && (o = e.slice(n, o), a[s] ? a[s] += o : a[++s] = o), (r = r[0]) === (i = i[0]) ? a[s] ? a[s] += i : a[++s] = i : (a[++s] = null, c.push({ i: s, x: et(r, i) })), n = ie.lastIndex; return n < e.length && (o = e.slice(n), a[s] ? a[s] += o : a[++s] = o), a.length < 2 ? c[0] ? oo(c[0].x) : io(e) : (e = c.length, function (u) { for (var d = 0, l; d < e; ++d)a[(l = c[d]).i] = l.x(u); return a.join("") }) } var Qe = 180 / Math.PI, ye = { translateX: 0, translateY: 0, rotate: 0, skewX: 0, scaleX: 1, scaleY: 1 }; function $n(t, e, n, r, i, o) { var s, a, c; return (s = Math.sqrt(t * t + e * e)) && (t /= s, e /= s), (c = t * n + e * r) && (n -= t * c, r -= e * c), (a = Math.sqrt(n * n + r * r)) && (n /= a, r /= a, c /= a), t * r < e * n && (t = -t, e = -e, c = -c, s = -s), { translateX: i, translateY: o, rotate: Math.atan2(e, t) * Qe, skewX: Math.atan(c) * Qe, scaleX: s, scaleY: a } } var Lt; function ao(t) { const e = new (typeof DOMMatrix == "function" ? DOMMatrix : WebKitCSSMatrix)(t + ""); return e.isIdentity ? ye : $n(e.a, e.b, e.c, e.d, e.e, e.f) } function co(t) { return t == null || (Lt || (Lt = document.createElementNS("http://www.w3.org/2000/svg", "g")), Lt.setAttribute("transform", t), !(t = Lt.transform.baseVal.consolidate())) ? ye : (t = t.matrix, $n(t.a, t.b, t.c, t.d, t.e, t.f)) } function Mn(t, e, n, r) { function i(u) { return u.length ? u.pop() + " " : "" } function o(u, d, l, h, f, y) { if (u !== l || d !== h) { var _ = f.push("translate(", null, e, null, n); y.push({ i: _ - 4, x: et(u, l) }, { i: _ - 2, x: et(d, h) }) } else (l || h) && f.push("translate(" + l + e + h + n) } function s(u, d, l, h) { u !== d ? (u - d > 180 ? d += 360 : d - u > 180 && (u += 360), h.push({ i: l.push(i(l) + "rotate(", null, r) - 2, x: et(u, d) })) : d && l.push(i(l) + "rotate(" + d + r) } function a(u, d, l, h) { u !== d ? h.push({ i: l.push(i(l) + "skewX(", null, r) - 2, x: et(u, d) }) : d && l.push(i(l) + "skewX(" + d + r) } function c(u, d, l, h, f, y) { if (u !== l || d !== h) { var _ = f.push(i(f) + "scale(", null, ",", null, ")"); y.push({ i: _ - 4, x: et(u, l) }, { i: _ - 2, x: et(d, h) }) } else (l !== 1 || h !== 1) && f.push(i(f) + "scale(" + l + "," + h + ")") } return function (u, d) { var l = [], h = []; return u = t(u), d = t(d), o(u.translateX, u.translateY, d.translateX, d.translateY, l, h), s(u.rotate, d.rotate, l, h), a(u.skewX, d.skewX, l, h), c(u.scaleX, u.scaleY, d.scaleX, d.scaleY, l, h), u = d = null, function (f) { for (var y = -1, _ = h.length, v; ++y < _;)l[(v = h[y]).i] = v.x(f); return l.join("") } } } var lo = Mn(ao, "px, ", "px)", "deg)"), uo = Mn(co, ", ", ")", ")"), fo = 1e-12; function Ze(t) { return ((t = Math.exp(t)) + 1 / t) / 2 } function ho(t) { return ((t = Math.exp(t)) - 1 / t) / 2 } function po(t) { return ((t = Math.exp(2 * t)) - 1) / (t + 1) } const go = (function t(e, n, r) { function i(o, s) { var a = o[0], c = o[1], u = o[2], d = s[0], l = s[1], h = s[2], f = d - a, y = l - c, _ = f * f + y * y, v, m; if (_ < fo) m = Math.log(h / u) / e, v = function (R) { return [a + R * f, c + R * y, u * Math.exp(e * R * m)] }; else { var b = Math.sqrt(_), E = (h * h - u * u + r * _) / (2 * u * n * b), M = (h * h - u * u - r * _) / (2 * h * n * b), N = Math.log(Math.sqrt(E * E + 1) - E), I = Math.log(Math.sqrt(M * M + 1) - M); m = (I - N) / e, v = function (R) { var tt = R * m, K = Ze(N), nt = u / (n * b) * (K * po(e * tt + N) - ho(N)); return [a + nt * f, c + nt * y, u * K / Ze(e * tt + N)] } } return v.duration = m * 1e3 * e / Math.SQRT2, v } return i.rho = function (o) { var s = Math.max(.001, +o), a = s * s, c = a * a; return t(s, a, c) }, i })(Math.SQRT2, 2, 4); var pt = 0, _t = 0, gt = 0, kn = 1e3, Xt, vt, Gt = 0, ct = 0, Qt = 0, Mt = typeof performance == "object" && performance.now ? performance : Date, An = typeof window == "object" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function (t) { setTimeout(t, 17) }; function Ne() { return ct || (An(mo), ct = Mt.now() + Qt) } function mo() { ct = 0 } function Vt() { this._call = this._time = this._next = null } Vt.prototype = En.prototype = { constructor: Vt, restart: function (t, e, n) { if (typeof t != "function") throw new TypeError("callback is not a function"); n = (n == null ? Ne() : +n) + (e == null ? 0 : +e), !this._next && vt !== this && (vt ? vt._next = this : Xt = this, vt = this), this._call = t, this._time = n, _e() }, stop: function () { this._call && (this._call = null, this._time = 1 / 0, _e()) } }; function En(t, e, n) { var r = new Vt; return r.restart(t, e, n), r } function yo() { Ne(), ++pt; for (var t = Xt, e; t;)(e = ct - t._time) >= 0 && t._call.call(void 0, e), t = t._next; --pt } function Je() { ct = (Gt = Mt.now()) + Qt, pt = _t = 0; try { yo() } finally { pt = 0, vo(), ct = 0 } } function _o() { var t = Mt.now(), e = t - Gt; e > kn && (Qt -= e, Gt = t) } function vo() { for (var t, e = Xt, n, r = 1 / 0; e;)e._call ? (r > e._time && (r = e._time), t = e, e = e._next) : (n = e._next, e._next = null, e = t ? t._next = n : Xt = n); vt = t, _e(r) } function _e(t) { if (!pt) { _t && (_t = clearTimeout(_t)); var e = t - ct; e > 24 ? (t < 1 / 0 && (_t = setTimeout(Je, t - Mt.now() - Qt)), gt && (gt = clearInterval(gt))) : (gt || (Gt = Mt.now(), gt = setInterval(_o, kn)), pt = 1, An(Je)) } } function je(t, e, n) { var r = new Vt; return e = e == null ? 0 : +e, r.restart(i => { r.stop(), t(i + e) }, e, n), r } var wo = ke("start", "end", "cancel", "interrupt"), xo = [], Sn = 0, tn = 1, ve = 2, qt = 3, en = 4, we = 5, Ft = 6; function Zt(t, e, n, r, i, o) { var s = t.__transition; if (!s) t.__transition = {}; else if (n in s) return; bo(t, n, { name: e, index: r, group: i, on: wo, tween: xo, time: o.time, delay: o.delay, duration: o.duration, ease: o.ease, timer: null, state: Sn }) } function Ie(t, e) { var n = H(t, e); if (n.state > Sn) throw new Error("too late; already scheduled"); return n } function W(t, e) { var n = H(t, e); if (n.state > qt) throw new Error("too late; already running"); return n } function H(t, e) { var n = t.__transition; if (!n || !(n = n[e])) throw new Error("transition not found"); return n } function bo(t, e, n) { var r = t.__transition, i; r[e] = n, n.timer = En(o, 0, n.time); function o(u) { n.state = tn, n.timer.restart(s, n.delay, n.time), n.delay <= u && s(u - n.delay) } function s(u) { var d, l, h, f; if (n.state !== tn) return c(); for (d in r) if (f = r[d], f.name === n.name) { if (f.state === qt) return je(s); f.state === en ? (f.state = Ft, f.timer.stop(), f.on.call("interrupt", t, t.__data__, f.index, f.group), delete r[d]) : +d < e && (f.state = Ft, f.timer.stop(), f.on.call("cancel", t, t.__data__, f.index, f.group), delete r[d]) } if (je(function () { n.state === qt && (n.state = en, n.timer.restart(a, n.delay, n.time), a(u)) }), n.state = ve, n.on.call("start", t, t.__data__, n.index, n.group), n.state === ve) { for (n.state = qt, i = new Array(h = n.tween.length), d = 0, l = -1; d < h; ++d)(f = n.tween[d].value.call(t, t.__data__, n.index, n.group)) && (i[++l] = f); i.length = l + 1 } } function a(u) { for (var d = u < n.duration ? n.ease.call(null, u / n.duration) : (n.timer.restart(c), n.state = we, 1), l = -1, h = i.length; ++l < h;)i[l].call(t, d); n.state === we && (n.on.call("end", t, t.__data__, n.index, n.group), c()) } function c() { n.state = Ft, n.timer.stop(), delete r[e]; for (var u in r) return; delete t.__transition } } function Dt(t, e) { var n = t.__transition, r, i, o = !0, s; if (n) { e = e == null ? null : e + ""; for (s in n) { if ((r = n[s]).name !== e) { o = !1; continue } i = r.state > ve && r.state < we, r.state = Ft, r.timer.stop(), r.on.call(i ? "interrupt" : "cancel", t, t.__data__, r.index, r.group), delete n[s] } o && delete t.__transition } } function $o(t) { return this.each(function () { Dt(this, t) }) } function Mo(t, e) { var n, r; return function () { var i = W(this, t), o = i.tween; if (o !== n) { r = n = o; for (var s = 0, a = r.length; s < a; ++s)if (r[s].name === e) { r = r.slice(), r.splice(s, 1); break } } i.tween = r } } function ko(t, e, n) { var r, i; if (typeof n != "function") throw new Error; return function () { var o = W(this, t), s = o.tween; if (s !== r) { i = (r = s).slice(); for (var a = { name: e, value: n }, c = 0, u = i.length; c < u; ++c)if (i[c].name === e) { i[c] = a; break } c === u && i.push(a) } o.tween = i } } function Ao(t, e) { var n = this._id; if (t += "", arguments.length < 2) { for (var r = H(this.node(), n).tween, i = 0, o = r.length, s; i < o; ++i)if ((s = r[i]).name === t) return s.value; return null } return this.each((e == null ? Mo : ko)(n, t, e)) } function Te(t, e, n) { var r = t._id; return t.each(function () { var i = W(this, r); (i.value || (i.value = {}))[e] = n.apply(this, arguments) }), function (i) { return H(i, r).value[e] } } function Nn(t, e) { var n; return (typeof e == "number" ? et : e instanceof $t ? Ue : (n = $t(e)) ? (e = n, Ue) : so)(t, e) } function Eo(t) { return function () { this.removeAttribute(t) } } function So(t) { return function () { this.removeAttributeNS(t.space, t.local) } } function No(t, e, n) { var r, i = n + "", o; return function () { var s = this.getAttribute(t); return s === i ? null : s === r ? o : o = e(r = s, n) } } function Io(t, e, n) { var r, i = n + "", o; return function () { var s = this.getAttributeNS(t.space, t.local); return s === i ? null : s === r ? o : o = e(r = s, n) } } function To(t, e, n) { var r, i, o; return function () { var s, a = n(this), c; return a == null ? void this.removeAttribute(t) : (s = this.getAttribute(t), c = a + "", s === c ? null : s === r && c === i ? o : (i = c, o = e(r = s, a))) } } function Lo(t, e, n) { var r, i, o; return function () { var s, a = n(this), c; return a == null ? void this.removeAttributeNS(t.space, t.local) : (s = this.getAttributeNS(t.space, t.local), c = a + "", s === c ? null : s === r && c === i ? o : (i = c, o = e(r = s, a))) } } function Co(t, e) { var n = Ut(t), r = n === "transform" ? uo : Nn; return this.attrTween(t, typeof e == "function" ? (n.local ? Lo : To)(n, r, Te(this, "attr." + t, e)) : e == null ? (n.local ? So : Eo)(n) : (n.local ? Io : No)(n, r, e)) } function Po(t, e) { return function (n) { this.setAttribute(t, e.call(this, n)) } } function Ro(t, e) { return function (n) { this.setAttributeNS(t.space, t.local, e.call(this, n)) } } function zo(t, e) { var n, r; function i() { var o = e.apply(this, arguments); return o !== r && (n = (r = o) && Ro(t, o)), n } return i._value = e, i } function qo(t, e) { var n, r; function i() { var o = e.apply(this, arguments); return o !== r && (n = (r = o) && Po(t, o)), n } return i._value = e, i } function Fo(t, e) { var n = "attr." + t; if (arguments.length < 2) return (n = this.tween(n)) && n._value; if (e == null) return this.tween(n, null); if (typeof e != "function") throw new Error; var r = Ut(t); return this.tween(n, (r.local ? zo : qo)(r, e)) } function Do(t, e) { return function () { Ie(this, t).delay = +e.apply(this, arguments) } } function Oo(t, e) { return e = +e, function () { Ie(this, t).delay = e } } function Bo(t) { var e = this._id; return arguments.length ? this.each((typeof t == "function" ? Do : Oo)(e, t)) : H(this.node(), e).delay } function Ho(t, e) { return function () { W(this, t).duration = +e.apply(this, arguments) } } function Xo(t, e) { return e = +e, function () { W(this, t).duration = e } } function Go(t) { var e = this._id; return arguments.length ? this.each((typeof t == "function" ? Ho : Xo)(e, t)) : H(this.node(), e).duration } function Vo(t, e) { if (typeof e != "function") throw new Error; return function () { W(this, t).ease = e } } function Yo(t) { var e = this._id; return arguments.length ? this.each(Vo(e, t)) : H(this.node(), e).ease } function Wo(t, e) { return function () { var n = e.apply(this, arguments); if (typeof n != "function") throw new Error; W(this, t).ease = n } } function Ko(t) { if (typeof t != "function") throw new Error; return this.each(Wo(this._id, t)) } function Uo(t) { typeof t != "function" && (t = ln(t)); for (var e = this._groups, n = e.length, r = new Array(n), i = 0; i < n; ++i)for (var o = e[i], s = o.length, a = r[i] = [], c, u = 0; u < s; ++u)(c = o[u]) && t.call(c, c.__data__, u, o) && a.push(c); return new j(r, this._parents, this._name, this._id) } function Qo(t) { if (t._id !== this._id) throw new Error; for (var e = this._groups, n = t._groups, r = e.length, i = n.length, o = Math.min(r, i), s = new Array(r), a = 0; a < o; ++a)for (var c = e[a], u = n[a], d = c.length, l = s[a] = new Array(d), h, f = 0; f < d; ++f)(h = c[f] || u[f]) && (l[f] = h); for (; a < r; ++a)s[a] = e[a]; return new j(s, this._parents, this._name, this._id) } function Zo(t) { return (t + "").trim().split(/^|\s+/).every(function (e) { var n = e.indexOf("."); return n >= 0 && (e = e.slice(0, n)), !e || e === "start" }) } function Jo(t, e, n) { var r, i, o = Zo(e) ? Ie : W; return function () { var s = o(this, t), a = s.on; a !== r && (i = (r = a).copy()).on(e, n), s.on = i } } function jo(t, e) { var n = this._id; return arguments.length < 2 ? H(this.node(), n).on.on(t) : this.each(Jo(n, t, e)) } function ts(t) { return function () { var e = this.parentNode; for (var n in this.__transition) if (+n !== t) return; e && e.removeChild(this) } } function es() { return this.on("end.remove", ts(this._id)) } function ns(t) { var e = this._name, n = this._id; typeof t != "function" && (t = Ae(t)); for (var r = this._groups, i = r.length, o = new Array(i), s = 0; s < i; ++s)for (var a = r[s], c = a.length, u = o[s] = new Array(c), d, l, h = 0; h < c; ++h)(d = a[h]) && (l = t.call(d, d.__data__, h, a)) && ("__data__" in d && (l.__data__ = d.__data__), u[h] = l, Zt(u[h], e, n, h, u, H(d, n))); return new j(o, this._parents, e, n) } function rs(t) { var e = this._name, n = this._id; typeof t != "function" && (t = cn(t)); for (var r = this._groups, i = r.length, o = [], s = [], a = 0; a < i; ++a)for (var c = r[a], u = c.length, d, l = 0; l < u; ++l)if (d = c[l]) { for (var h = t.call(d, d.__data__, l, c), f, y = H(d, n), _ = 0, v = h.length; _ < v; ++_)(f = h[_]) && Zt(f, e, n, _, h, y); o.push(h), s.push(d) } return new j(o, s, e, n) } var is = Et.prototype.constructor; function os() { return new is(this._groups, this._parents) } function ss(t, e) { var n, r, i; return function () { var o = dt(this, t), s = (this.style.removeProperty(t), dt(this, t)); return o === s ? null : o === n && s === r ? i : i = e(n = o, r = s) } } function In(t) { return function () { this.style.removeProperty(t) } } function as(t, e, n) { var r, i = n + "", o; return function () { var s = dt(this, t); return s === i ? null : s === r ? o : o = e(r = s, n) } } function cs(t, e, n) { var r, i, o; return function () { var s = dt(this, t), a = n(this), c = a + ""; return a == null && (c = a = (this.style.removeProperty(t), dt(this, t))), s === c ? null : s === r && c === i ? o : (i = c, o = e(r = s, a)) } } function ls(t, e) { var n, r, i, o = "style." + e, s = "end." + o, a; return function () { var c = W(this, t), u = c.on, d = c.value[o] == null ? a || (a = In(e)) : void 0; (u !== n || i !== d) && (r = (n = u).copy()).on(s, i = d), c.on = r } } function us(t, e, n) { var r = (t += "") == "transform" ? lo : Nn; return e == null ? this.styleTween(t, ss(t, r)).on("end.style." + t, In(t)) : typeof e == "function" ? this.styleTween(t, cs(t, r, Te(this, "style." + t, e))).each(ls(this._id, t)) : this.styleTween(t, as(t, r, e), n).on("end.style." + t, null) } function fs(t, e, n) { return function (r) { this.style.setProperty(t, e.call(this, r), n) } } function hs(t, e, n) { var r, i; function o() { var s = e.apply(this, arguments); return s !== i && (r = (i = s) && fs(t, s, n)), r } return o._value = e, o } function ds(t, e, n) { var r = "style." + (t += ""); if (arguments.length < 2) return (r = this.tween(r)) && r._value; if (e == null) return this.tween(r, null); if (typeof e != "function") throw new Error; return this.tween(r, hs(t, e, n ?? "")) } function ps(t) { return function () { this.textContent = t } } function gs(t) { return function () { var e = t(this); this.textContent = e ?? "" } } function ms(t) { return this.tween("text", typeof t == "function" ? gs(Te(this, "text", t)) : ps(t == null ? "" : t + "")) } function ys(t) { return function (e) { this.textContent = t.call(this, e) } } function _s(t) { var e, n; function r() { var i = t.apply(this, arguments); return i !== n && (e = (n = i) && ys(i)), e } return r._value = t, r } function vs(t) { var e = "text"; if (arguments.length < 1) return (e = this.tween(e)) && e._value; if (t == null) return this.tween(e, null); if (typeof t != "function") throw new Error; return this.tween(e, _s(t)) } function ws() { for (var t = this._name, e = this._id, n = Tn(), r = this._groups, i = r.length, o = 0; o < i; ++o)for (var s = r[o], a = s.length, c, u = 0; u < a; ++u)if (c = s[u]) { var d = H(c, e); Zt(c, t, n, u, s, { time: d.time + d.delay + d.duration, delay: 0, duration: d.duration, ease: d.ease }) } return new j(r, this._parents, t, n) } function xs() { var t, e, n = this, r = n._id, i = n.size(); return new Promise(function (o, s) { var a = { value: s }, c = { value: function () { --i === 0 && o() } }; n.each(function () { var u = W(this, r), d = u.on; d !== t && (e = (t = d).copy(), e._.cancel.push(a), e._.interrupt.push(a), e._.end.push(c)), u.on = e }), i === 0 && o() }) } var bs = 0; function j(t, e, n, r) { this._groups = t, this._parents = e, this._name = n, this._id = r } function Tn() { return ++bs } var Z = Et.prototype; j.prototype = { constructor: j, select: ns, selectAll: rs, selectChild: Z.selectChild, selectChildren: Z.selectChildren, filter: Uo, merge: Qo, selection: os, transition: ws, call: Z.call, nodes: Z.nodes, node: Z.node, size: Z.size, empty: Z.empty, each: Z.each, on: jo, attr: Co, attrTween: Fo, style: us, styleTween: ds, text: ms, textTween: vs, remove: es, tween: Ao, delay: Bo, duration: Go, ease: Yo, easeVarying: Ko, end: xs, [Symbol.iterator]: Z[Symbol.iterator] }; function $s(t) { return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2 } var Ms = { time: null, delay: 0, duration: 250, ease: $s }; function ks(t, e) { for (var n; !(n = t.__transition) || !(n = n[e]);)if (!(t = t.parentNode)) throw new Error(`transition ${e} not found`); return n } function As(t) { var e, n; t instanceof j ? (e = t._id, t = t._name) : (e = Tn(), (n = Ms).time = Ne(), t = t == null ? null : t + ""); for (var r = this._groups, i = r.length, o = 0; o < i; ++o)for (var s = r[o], a = s.length, c, u = 0; u < a; ++u)(c = s[u]) && Zt(c, t, e, u, s, n || ks(c, e)); return new j(r, this._parents, t, e) } Et.prototype.interrupt = $o; Et.prototype.transition = As; const xe = Math.PI, be = 2 * xe, ot = 1e-6, Es = be - ot; function Ln(t) { this._ += t[0]; for (let e = 1, n = t.length; e < n; ++e)this._ += arguments[e] + t[e] } function Ss(t) { let e = Math.floor(t); if (!(e >= 0)) throw new Error(`invalid digits: ${t}`); if (e > 15) return Ln; const n = 10 ** e; return function (r) { this._ += r[0]; for (let i = 1, o = r.length; i < o; ++i)this._ += Math.round(arguments[i] * n) / n + r[i] } } class Ns { constructor(e) { this._x0 = this._y0 = this._x1 = this._y1 = null, this._ = "", this._append = e == null ? Ln : Ss(e) } moveTo(e, n) { this._append`M${this._x0 = this._x1 = +e},${this._y0 = this._y1 = +n}` } closePath() { this._x1 !== null && (this._x1 = this._x0, this._y1 = this._y0, this._append`Z`) } lineTo(e, n) { this._append`L${this._x1 = +e},${this._y1 = +n}` } quadraticCurveTo(e, n, r, i) { this._append`Q${+e},${+n},${this._x1 = +r},${this._y1 = +i}` } bezierCurveTo(e, n, r, i, o, s) { this._append`C${+e},${+n},${+r},${+i},${this._x1 = +o},${this._y1 = +s}` } arcTo(e, n, r, i, o) { if (e = +e, n = +n, r = +r, i = +i, o = +o, o < 0) throw new Error(`negative radius: ${o}`); let s = this._x1, a = this._y1, c = r - e, u = i - n, d = s - e, l = a - n, h = d * d + l * l; if (this._x1 === null) this._append`M${this._x1 = e},${this._y1 = n}`; else if (h > ot) if (!(Math.abs(l * c - u * d) > ot) || !o) this._append`L${this._x1 = e},${this._y1 = n}`; else { let f = r - s, y = i - a, _ = c * c + u * u, v = f * f + y * y, m = Math.sqrt(_), b = Math.sqrt(h), E = o * Math.tan((xe - Math.acos((_ + h - v) / (2 * m * b))) / 2), M = E / b, N = E / m; Math.abs(M - 1) > ot && this._append`L${e + M * d},${n + M * l}`, this._append`A${o},${o},0,0,${+(l * f > d * y)},${this._x1 = e + N * c},${this._y1 = n + N * u}` } } arc(e, n, r, i, o, s) { if (e = +e, n = +n, r = +r, s = !!s, r < 0) throw new Error(`negative radius: ${r}`); let a = r * Math.cos(i), c = r * Math.sin(i), u = e + a, d = n + c, l = 1 ^ s, h = s ? i - o : o - i; this._x1 === null ? this._append`M${u},${d}` : (Math.abs(this._x1 - u) > ot || Math.abs(this._y1 - d) > ot) && this._append`L${u},${d}`, r && (h < 0 && (h = h % be + be), h > Es ? this._append`A${r},${r},0,1,${l},${e - a},${n - c}A${r},${r},0,1,${l},${this._x1 = u},${this._y1 = d}` : h > ot && this._append`A${r},${r},0,${+(h >= xe)},${l},${this._x1 = e + r * Math.cos(o)},${this._y1 = n + r * Math.sin(o)}`) } rect(e, n, r, i) { this._append`M${this._x0 = this._x1 = +e},${this._y0 = this._y1 = +n}h${r = +r}v${+i}h${-r}Z` } toString() { return this._ } } function Ct(t) { return function () { return t } } const Cn = Math.cos, Yt = Math.sin, Pn = Math.sqrt, Wt = Math.PI, Jt = 2 * Wt; function Is(t) { let e = 3; return t.digits = function (n) { if (!arguments.length) return e; if (n == null) e = null; else { const r = Math.floor(n); if (!(r >= 0)) throw new RangeError(`invalid digits: ${n}`); e = r } return t }, () => new Ns(e) } const Ts = { draw(t, e) { const n = Pn(e / Wt); t.moveTo(n, 0), t.arc(0, 0, n, 0, Jt) } }, Ls = .8908130915292852, Rn = Yt(Wt / 10) / Yt(7 * Wt / 10), Cs = Yt(Jt / 10) * Rn, Ps = -Cn(Jt / 10) * Rn, Rs = { draw(t, e) { const n = Pn(e * Ls), r = Cs * n, i = Ps * n; t.moveTo(0, -n), t.lineTo(r, i); for (let o = 1; o < 5; ++o) { const s = Jt * o / 5, a = Cn(s), c = Yt(s); t.lineTo(c * n, -a * n), t.lineTo(a * r - c * i, c * r + a * i) } t.closePath() } }; function zs(t, e) { let n = null, r = Is(i); t = typeof t == "function" ? t : Ct(t || Ts), e = typeof e == "function" ? e : Ct(e === void 0 ? 64 : +e); function i() { let o; if (n || (n = o = r()), t.apply(this, arguments).draw(n, +e.apply(this, arguments)), o) return n = null, o + "" || null } return i.type = function (o) { return arguments.length ? (t = typeof o == "function" ? o : Ct(o), i) : t }, i.size = function (o) { return arguments.length ? (e = typeof o == "function" ? o : Ct(+o), i) : e }, i.context = function (o) { return arguments.length ? (n = o ?? null, i) : n }, i } const Pt = t => () => t; function qs(t, { sourceEvent: e, target: n, transform: r, dispatch: i }) { Object.defineProperties(this, { type: { value: t, enumerable: !0, configurable: !0 }, sourceEvent: { value: e, enumerable: !0, configurable: !0 }, target: { value: n, enumerable: !0, configurable: !0 }, transform: { value: r, enumerable: !0, configurable: !0 }, _: { value: i } }) } function J(t, e, n) { this.k = t, this.x = e, this.y = n } J.prototype = { constructor: J, scale: function (t) { return t === 1 ? this : new J(this.k * t, this.x, this.y) }, translate: function (t, e) { return t === 0 & e === 0 ? this : new J(this.k, this.x + this.k * t, this.y + this.k * e) }, apply: function (t) { return [t[0] * this.k + this.x, t[1] * this.k + this.y] }, applyX: function (t) { return t * this.k + this.x }, applyY: function (t) { return t * this.k + this.y }, invert: function (t) { return [(t[0] - this.x) / this.k, (t[1] - this.y) / this.k] }, invertX: function (t) { return (t - this.x) / this.k }, invertY: function (t) { return (t - this.y) / this.k }, rescaleX: function (t) { return t.copy().domain(t.range().map(this.invertX, this).map(t.invert, t)) }, rescaleY: function (t) { return t.copy().domain(t.range().map(this.invertY, this).map(t.invert, t)) }, toString: function () { return "translate(" + this.x + "," + this.y + ") scale(" + this.k + ")" } }; var jt = new J(1, 0, 0); zn.prototype = J.prototype; function zn(t) { for (; !t.__zoom;)if (!(t = t.parentNode)) return jt; return t.__zoom } function oe(t) { t.stopImmediatePropagation() } function mt(t) { t.preventDefault(), t.stopImmediatePropagation() } function Fs(t) { return (!t.ctrlKey || t.type === "wheel") && !t.button } function Ds() { var t = this; return t instanceof SVGElement ? (t = t.ownerSVGElement || t, t.hasAttribute("viewBox") ? (t = t.viewBox.baseVal, [[t.x, t.y], [t.x + t.width, t.y + t.height]]) : [[0, 0], [t.width.baseVal.value, t.height.baseVal.value]]) : [[0, 0], [t.clientWidth, t.clientHeight]] } function nn() { return this.__zoom || jt } function Os(t) { return -t.deltaY * (t.deltaMode === 1 ? .05 : t.deltaMode ? 1 : .002) * (t.ctrlKey ? 10 : 1) } function Bs() { return navigator.maxTouchPoints || "ontouchstart" in this } function Hs(t, e, n) { var r = t.invertX(e[0][0]) - n[0][0], i = t.invertX(e[1][0]) - n[1][0], o = t.invertY(e[0][1]) - n[0][1], s = t.invertY(e[1][1]) - n[1][1]; return t.translate(i > r ? (r + i) / 2 : Math.min(0, r) || Math.max(0, i), s > o ? (o + s) / 2 : Math.min(0, o) || Math.max(0, s)) } function Xs() { var t = Fs, e = Ds, n = Hs, r = Os, i = Bs, o = [0, 1 / 0], s = [[-1 / 0, -1 / 0], [1 / 0, 1 / 0]], a = 250, c = go, u = ke("start", "zoom", "end"), d, l, h, f = 500, y = 150, _ = 0, v = 10; function m(p) { p.property("__zoom", nn).on("wheel.zoom", tt, { passive: !1 }).on("mousedown.zoom", K).on("dblclick.zoom", nt).filter(i).on("touchstart.zoom", Nt).on("touchmove.zoom", Zn).on("touchend.zoom touchcancel.zoom", Jn).style("-webkit-tap-highlight-color", "rgba(0,0,0,0)") } m.transform = function (p, w, g, x) { var $ = p.selection ? p.selection() : p; $.property("__zoom", nn), p !== $ ? N(p, w, g, x) : $.interrupt().each(function () { I(this, arguments).event(x).start().zoom(null, typeof w == "function" ? w.apply(this, arguments) : w).end() }) }, m.scaleBy = function (p, w, g, x) { m.scaleTo(p, function () { var $ = this.__zoom.k, k = typeof w == "function" ? w.apply(this, arguments) : w; return $ * k }, g, x) }, m.scaleTo = function (p, w, g, x) { m.transform(p, function () { var $ = e.apply(this, arguments), k = this.__zoom, A = g == null ? M($) : typeof g == "function" ? g.apply(this, arguments) : g, S = k.invert(A), T = typeof w == "function" ? w.apply(this, arguments) : w; return n(E(b(k, T), A, S), $, s) }, g, x) }, m.translateBy = function (p, w, g, x) { m.transform(p, function () { return n(this.__zoom.translate(typeof w == "function" ? w.apply(this, arguments) : w, typeof g == "function" ? g.apply(this, arguments) : g), e.apply(this, arguments), s) }, null, x) }, m.translateTo = function (p, w, g, x, $) { m.transform(p, function () { var k = e.apply(this, arguments), A = this.__zoom, S = x == null ? M(k) : typeof x == "function" ? x.apply(this, arguments) : x; return n(jt.translate(S[0], S[1]).scale(A.k).translate(typeof w == "function" ? -w.apply(this, arguments) : -w, typeof g == "function" ? -g.apply(this, arguments) : -g), k, s) }, x, $) }; function b(p, w) { return w = Math.max(o[0], Math.min(o[1], w)), w === p.k ? p : new J(w, p.x, p.y) } function E(p, w, g) { var x = w[0] - g[0] * p.k, $ = w[1] - g[1] * p.k; return x === p.x && $ === p.y ? p : new J(p.k, x, $) } function M(p) { return [(+p[0][0] + +p[1][0]) / 2, (+p[0][1] + +p[1][1]) / 2] } function N(p, w, g, x) { p.on("start.zoom", function () { I(this, arguments).event(x).start() }).on("interrupt.zoom end.zoom", function () { I(this, arguments).event(x).end() }).tween("zoom", function () { var $ = this, k = arguments, A = I($, k).event(x), S = e.apply($, k), T = g == null ? M(S) : typeof g == "function" ? g.apply($, k) : g, X = Math.max(S[1][0] - S[0][0], S[1][1] - S[0][1]), C = $.__zoom, D = typeof w == "function" ? w.apply($, k) : w, U = c(C.invert(T).concat(X / C.k), D.invert(T).concat(X / D.k)); return function (O) { if (O === 1) O = D; else { var Q = U(O), ne = X / Q[2]; O = new J(ne, T[0] - Q[0] * ne, T[1] - Q[1] * ne) } A.zoom(null, O) } }) } function I(p, w, g) { return !g && p.__zooming || new R(p, w) } function R(p, w) { this.that = p, this.args = w, this.active = 0, this.sourceEvent = null, this.extent = e.apply(p, w), this.taps = 0 } R.prototype = { event: function (p) { return p && (this.sourceEvent = p), this }, start: function () { return ++this.active === 1 && (this.that.__zooming = this, this.emit("start")), this }, zoom: function (p, w) { return this.mouse && p !== "mouse" && (this.mouse[1] = w.invert(this.mouse[0])), this.touch0 && p !== "touch" && (this.touch0[1] = w.invert(this.touch0[0])), this.touch1 && p !== "touch" && (this.touch1[1] = w.invert(this.touch1[0])), this.that.__zoom = w, this.emit("zoom"), this }, end: function () { return --this.active === 0 && (delete this.that.__zooming, this.emit("end")), this }, emit: function (p) { var w = G(this.that).datum(); u.call(p, this.that, new qs(p, { sourceEvent: this.sourceEvent, target: m, transform: this.that.__zoom, dispatch: u }), w) } }; function tt(p, ...w) { if (!t.apply(this, arguments)) return; var g = I(this, w).event(p), x = this.__zoom, $ = Math.max(o[0], Math.min(o[1], x.k * Math.pow(2, r.apply(this, arguments)))), k = rt(p); if (g.wheel) (g.mouse[0][0] !== k[0] || g.mouse[0][1] !== k[1]) && (g.mouse[1] = x.invert(g.mouse[0] = k)), clearTimeout(g.wheel); else { if (x.k === $) return; g.mouse = [k, x.invert(k)], Dt(this), g.start() } mt(p), g.wheel = setTimeout(A, y), g.zoom("mouse", n(E(b(x, $), g.mouse[0], g.mouse[1]), g.extent, s)); function A() { g.wheel = null, g.end() } } function K(p, ...w) { if (h || !t.apply(this, arguments)) return; var g = p.currentTarget, x = I(this, w, !0).event(p), $ = G(p.view).on("mousemove.zoom", T, !0).on("mouseup.zoom", X, !0), k = rt(p, g), A = p.clientX, S = p.clientY; Bi(p.view), oe(p), x.mouse = [k, this.__zoom.invert(k)], Dt(this), x.start(); function T(C) { if (mt(C), !x.moved) { var D = C.clientX - A, U = C.clientY - S; x.moved = D * D + U * U > _ } x.event(C).zoom("mouse", n(E(x.that.__zoom, x.mouse[0] = rt(C, g), x.mouse[1]), x.extent, s)) } function X(C) { $.on("mousemove.zoom mouseup.zoom", null), Hi(C.view, x.moved), mt(C), x.event(C).end() } } function nt(p, ...w) { if (t.apply(this, arguments)) { var g = this.__zoom, x = rt(p.changedTouches ? p.changedTouches[0] : p, this), $ = g.invert(x), k = g.k * (p.shiftKey ? .5 : 2), A = n(E(b(g, k), x, $), e.apply(this, w), s); mt(p), a > 0 ? G(this).transition().duration(a).call(N, A, x, p) : G(this).call(m.transform, A, x, p) } } function Nt(p, ...w) { if (t.apply(this, arguments)) { var g = p.touches, x = g.length, $ = I(this, w, p.changedTouches.length === x).event(p), k, A, S, T; for (oe(p), A = 0; A < x; ++A)S = g[A], T = rt(S, this), T = [T, this.__zoom.invert(T), S.identifier], $.touch0 ? !$.touch1 && $.touch0[2] !== T[2] && ($.touch1 = T, $.taps = 0) : ($.touch0 = T, k = !0, $.taps = 1 + !!d); d && (d = clearTimeout(d)), k && ($.taps < 2 && (l = T[0], d = setTimeout(function () { d = null }, f)), Dt(this), $.start()) } } function Zn(p, ...w) { if (this.__zooming) { var g = I(this, w).event(p), x = p.changedTouches, $ = x.length, k, A, S, T; for (mt(p), k = 0; k < $; ++k)A = x[k], S = rt(A, this), g.touch0 && g.touch0[2] === A.identifier ? g.touch0[0] = S : g.touch1 && g.touch1[2] === A.identifier && (g.touch1[0] = S); if (A = g.that.__zoom, g.touch1) { var X = g.touch0[0], C = g.touch0[1], D = g.touch1[0], U = g.touch1[1], O = (O = D[0] - X[0]) * O + (O = D[1] - X[1]) * O, Q = (Q = U[0] - C[0]) * Q + (Q = U[1] - C[1]) * Q; A = b(A, Math.sqrt(O / Q)), S = [(X[0] + D[0]) / 2, (X[1] + D[1]) / 2], T = [(C[0] + U[0]) / 2, (C[1] + U[1]) / 2] } else if (g.touch0) S = g.touch0[0], T = g.touch0[1]; else return; g.zoom("touch", n(E(A, S, T), g.extent, s)) } } function Jn(p, ...w) { if (this.__zooming) { var g = I(this, w).event(p), x = p.changedTouches, $ = x.length, k, A; for (oe(p), h && clearTimeout(h), h = setTimeout(function () { h = null }, f), k = 0; k < $; ++k)A = x[k], g.touch0 && g.touch0[2] === A.identifier ? delete g.touch0 : g.touch1 && g.touch1[2] === A.identifier && delete g.touch1; if (g.touch1 && !g.touch0 && (g.touch0 = g.touch1, delete g.touch1), g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]); else if (g.end(), g.taps === 2 && (A = rt(A, this), Math.hypot(l[0] - A[0], l[1] - A[1]) < v)) { var S = G(this).on("dblclick.zoom"); S && S.apply(this, arguments) } } } return m.wheelDelta = function (p) { return arguments.length ? (r = typeof p == "function" ? p : Pt(+p), m) : r }, m.filter = function (p) { return arguments.length ? (t = typeof p == "function" ? p : Pt(!!p), m) : t }, m.touchable = function (p) { return arguments.length ? (i = typeof p == "function" ? p : Pt(!!p), m) : i }, m.extent = function (p) { return arguments.length ? (e = typeof p == "function" ? p : Pt([[+p[0][0], +p[0][1]], [+p[1][0], +p[1][1]]]), m) : e }, m.scaleExtent = function (p) { return arguments.length ? (o[0] = +p[0], o[1] = +p[1], m) : [o[0], o[1]] }, m.translateExtent = function (p) { return arguments.length ? (s[0][0] = +p[0][0], s[1][0] = +p[1][0], s[0][1] = +p[0][1], s[1][1] = +p[1][1], m) : [[s[0][0], s[0][1]], [s[1][0], s[1][1]]] }, m.constrain = function (p) { return arguments.length ? (n = p, m) : n }, m.duration = function (p) { return arguments.length ? (a = +p, m) : a }, m.interpolate = function (p) { return arguments.length ? (c = p, m) : c }, m.on = function () { var p = u.on.apply(u, arguments); return p === u ? m : p }, m.clickDistance = function (p) { return arguments.length ? (_ = (p = +p) * p, m) : Math.sqrt(_) }, m.tapDistance = function (p) { return arguments.length ? (v = +p, m) : v }, m } const lt = G("#viz"), qn = () => lt.node().clientWidth, Fn = () => lt.node().clientHeight, te = lt.append("g"), Dn = te.append("g").attr("class", "rings"), Gs = te.append("g").attr("class", "links"), se = te.append("g").attr("class", "nodes"), Le = Xs().scaleExtent([.1, 6]).on("zoom", t => { te.attr("transform", t.transform.toString()) }); lt.call(Le); function rn(t) { return t.trim().toLowerCase().replace(/\s+/g, "_").replace(/[^a-z0-9_\-\/]/g, "") } function Vs(t) { const e = Math.max(0, ...t.nodes.map(i => i.level ?? 0)), n = document.getElementById("stats"); n.innerHTML = ""; const r = [["Nodes", String(t.nodes.length)], ["Edges", String(t.edges.length)], ["Levels", String(e + 1)], ["Max level", String(e)]]; for (const [i, o] of r) { const s = document.createElement("div"); s.textContent = i; const a = document.createElement("div"); a.textContent = o, n.appendChild(s), n.appendChild(a) } } let Ce = null, V = null; function ee() { let t = Ce; if (t === null && V && P) { const e = P.nodes.find(n => n.id === V); t = (e == null ? void 0 : e.level) ?? null } Dn.selectAll("circle.ring").classed("hovered", e => t !== null && e.level === t) } function Kt(t) { Ce = t, ee() } function Ys(t) { return Math.max(24, t.length * 7.2) } function Ws(t) { let e = 2166136261; for (let n = 0; n < t.length; n++)e ^= t.charCodeAt(n), e = Math.imul(e, 16777619); return (e >>> 0) / 4294967295 } const Ks = "rgba(148, 163, 184, 0.18)", Us = "rgba(148, 163, 184, 0.8)", Qs = "#fbbf24", Zs = "#22c55e", Pe = "definit-db.learned"; function Js() { try { const t = localStorage.getItem(Pe); if (!t) return new Set; const e = JSON.parse(t); return Array.isArray(e) ? new Set(e.filter(n => typeof n == "string")) : new Set } catch { return new Set } } function On() { try { localStorage.setItem(Pe, JSON.stringify(Array.from(kt))) } catch { } } function js() { kt.clear(); try { localStorage.removeItem(Pe) } catch { } } const kt = Js(); function F(t) { return t.kind !== "leaf" ? "off" : kt.has(t.id) ? "learned" : (t.deps ?? []).every(r => kt.has(r)) ? "ready" : "off" } function ta(t) { return t === "learned" ? Zs : t === "ready" ? Qs : t === "visible" ? Us : Ks } let Bn = null; function Hn(t) { const e = qn(), n = Fn(), r = e / 2, i = n / 2, o = Math.max(0, ...t.nodes.map(f => f.level ?? 0)), s = Math.max(6, ...t.nodes.map(f => { var y; return ((y = f.title) == null ? void 0 : y.length) ?? 0 })), a = Math.max(54, Math.min(120, 30 + s * 2.4)), c = 56, u = rr(t.nodes, f => f.level ?? 0), d = new Map, l = f => (Ws(String(f)) * .9 + f * .37) % (Math.PI * 2), h = (f, y, _) => { if (f.length <= 1) return _; const v = _.slice(), b = f.map(M => Ys(M.title)).map(M => (M + 18) / Math.max(1, y)), E = 22; for (let M = 0; M < E; M++) { const N = sn(f.length).sort((I, R) => v[I] - v[R]); for (let I = 0; I < N.length; I++) { const R = N[I], tt = N[(I + 1) % N.length]; let K = v[tt] - v[R]; K < 0 && (K += Math.PI * 2); const nt = (b[R] + b[tt]) / 2; if (K < nt) { const Nt = (nt - K) / 2; v[R] -= Nt, v[tt] += Nt } } } for (let M = 0; M < v.length; M++)v[M] = (v[M] % (Math.PI * 2) + Math.PI * 2) % (Math.PI * 2); return v }; for (let f = 0; f <= o; f++) { const y = (u.get(f) ?? []).slice().sort((M, N) => M.id.localeCompare(N.id)), _ = y.length; if (!_) continue; const v = c + f * a, m = l(f); let b; _ === 2 ? b = [m + Math.PI / 4, m + (Math.PI + Math.PI / 4)] : _ === 3 ? b = [0, 1, 2].map(M => m + M / 3 * Math.PI * 2 + Math.PI / 6) : b = y.map((M, N) => m + N / _ * Math.PI * 2); const E = h(y, v, b); for (let M = 0; M < _; M++) { const N = y[M], I = E[M]; d.set(N.id, { x: r + v * Math.cos(I), y: i + v * Math.sin(I) }) } } return { cx: r, cy: i, ringGap: a, base: c, maxLevel: o, pos: d } } function $e(t) { const e = new Map(t.map(o => [o.id, o])), n = new Set, r = new Set, i = o => { const s = e.get(o); if (!s) return 0; if (r.has(o)) return s.level ?? 0; if (n.has(o)) return 0; n.add(o); let a = 0; for (const c of s.deps ?? []) e.has(c) && (a = Math.max(a, 1 + i(c))); return n.delete(o), r.add(o), s.level = a, a }; for (const o of t) i(o.id) } function ea(t) {
    $e(t.nodes), Vs(t); const e = Hn(t); Bn = e; const n = new Set; { const l = new Map(t.nodes.map(h => [h.id, h])); for (const h of t.edges) { const f = l.get(h.target); if (!f || F(f) !== "learned") continue; const y = l.get(h.source); if (!y) continue; F(y) === "off" && n.add(y.id) } } const r = sn(0, e.maxLevel + 1).map(l => ({ level: l, r: e.base + l * e.ringGap })); Dn.selectAll("circle.ring").data(r, l => String(l.level)).join(l => l.append("circle").attr("class", "ring")).attr("cx", e.cx).attr("cy", e.cy).attr("r", l => l.r), ee(); const i = l => { const h = e.pos.get(l.source), f = e.pos.get(l.target); if (!h || !f) return ""; const y = (h.x + f.x) / 2, _ = (h.y + f.y) / 2, v = .55, m = y + (e.cx - y) * v, b = _ + (e.cy - _) * v; return `M${h.x},${h.y} Q${m},${b} ${f.x},${f.y}` }, o = new Map(t.nodes.map(l => [l.id, l])); Gs.selectAll("path.link").data(t.edges, l => `${l.source}->${l.target}`).join(l => l.append("path").attr("class", "link").attr("fill", "none").attr("stroke-linecap", "round").attr("stroke-linejoin", "round")).attr("d", i).classed("link-on", l => { const h = o.get(l.target); return (h ? F(h) : "off") === "learned" }).classed("link-off", l => { const h = o.get(l.target); return (h ? F(h) : "off") !== "learned" }).attr("stroke", l => { const h = o.get(l.target); return (h ? F(h) : "off") === "learned" ? "rgba(226, 232, 240, 0.85)" : "rgba(148, 163, 184, 0.16)" }).attr("stroke-width", l => { const h = o.get(l.target); return (h ? F(h) : "off") === "learned" ? 2.2 : 1 }).attr("stroke-dasharray", l => { const h = o.get(l.target); return (h ? F(h) : "off") === "learned" ? null : "3 5" }).attr("opacity", 1); const a = se.selectAll("g.node").data(t.nodes, l => l.id).join(l => { const h = l.append("g").attr("class", "node"), f = 8, y = 11; h.append("circle").attr("class", "node-circle").attr("r", f); const _ = zs().type(Rs).size(Math.PI * y * y); return h.append("path").attr("class", "node-star").attr("d", _() ?? ""), h.append("circle").attr("class", "leaf-underline").attr("r", y + 4), h.append("text").attr("dx", 12).attr("dy", 5), h.append("title"), h }); a.select("title").text(l => {
        const h = l.kind ?? "leaf", f = h === "leaf", y = h === "field" || h === "category" || h === "final-category", _ = l.relPath ? f ? `${l.relPath}.md` : y ? `${l.relPath}/` : l.relPath : l.id; return `${l.title}
${_}
(kind: ${h}, level: ${l.level ?? 0})`
    }), a.on("mouseenter", (l, h) => { G(l.currentTarget).classed("hovering", !0), Kt(h.level ?? 0) }).on("mouseleave", l => { G(l.currentTarget).classed("hovering", !1), Kt(null), V && se.selectAll("g.node").filter(f => f.id === V).classed("hovering", !0) }), V && se.selectAll("g.node").classed("hovering", l => Ce === null && l.id === V), a.attr("transform", l => { const h = e.pos.get(l.id); return `translate(${h.x},${h.y})` }); const c = l => { const h = F(l), f = h === "off" && n.has(l.id) ? "visible" : h; return ta(f) }, u = l => { const h = F(l); return h === "off" && n.has(l.id) ? "visible" : h }; a.select("circle.node-circle").attr("display", l => l.kind === "leaf" || l.kind === "final-category" ? "none" : null).attr("fill", l => c(l)).attr("opacity", 1), a.select("path.node-star").attr("display", l => l.kind === "leaf" || l.kind === "final-category" ? null : "none").attr("fill", l => c(l)).attr("opacity", 1), a.select("circle.leaf-underline").attr("fill", "none").attr("stroke", l => l.kind === "leaf" ? c(l) : "none").attr("stroke-width", l => l.kind === "leaf" ? 2 : 0).attr("opacity", l => l.kind === "leaf" ? .9 : 0), a.select("text").text(l => l.title).attr("fill", "#e6edf3").attr("opacity", l => u(l) === "off" ? .22 : 1).attr("text-decoration", "none").attr("text-decoration-thickness", null).attr("text-underline-offset", null), ua(a); const d = document.getElementById("search"); d.oninput = () => { const l = rn(d.value), h = f => l && rn(f.id).includes(l); a.selectAll("circle.node-circle, path.node-star").attr("stroke", f => h(f) ? "#ef4444" : "none").attr("stroke-width", f => h(f) ? 2.5 : 0) }
} const Xn = document.getElementById("viewer"), Gn = document.getElementById("viewerTitle"), Vn = document.getElementById("viewerPath"), Me = document.getElementById("viewerBody"), it = document.getElementById("markLearned"); function Yn(t) { if (!it) return; if (!t || L.mode !== "definitions" || t.kind !== "leaf") { it.style.display = "none", it.disabled = !0, it.onclick = null; return } const e = F(t); it.style.display = "", it.disabled = e !== "ready", it.onclick = () => { F(t) === "ready" && (kt.add(t.id), On(), ft(!0), L.selectedLeaf = void 0, V = null, At(), requestAnimationFrame(() => { Re() })) } } function ae(t) { return t.replaceAll("&", "&amp;").replaceAll("<", "&lt;").replaceAll(">", "&gt;").replaceAll('"', "&quot;").replaceAll("'", "&#39;") } function na(t) {
    const e = t.replace(/\r\n?/g, `
`).split(`
`), n = []; let r = 0; for (; r < e.length && !e[r].trim();)r++; for (r < e.length && /^#{1,2}\s+/.test(e[r].trim()) && r++; r < e.length; r++)n.push(e[r]); for (; n.length && !n[0].trim();)n.shift(); for (; n.length && !n[n.length - 1].trim();)n.pop(); const i = []; let o = 0; for (const s of n) { if (!s.trim()) { o++, o <= 2 && i.push(""); continue } o = 0, i.push(s) } return i.join(`
`)
} function Wn(t) { if (!P) return; const e = P.nodes.find(n => n.id === t); e && (L.selectedLeaf = t, V = t, ft(!0), requestAnimationFrame(() => { ha(t) }), Qn(e)) } function ra(t) { Wn(t) } function ia(t) { var r; const e = new Map, n = new Map(((P == null ? void 0 : P.nodes) ?? []).map(i => [i.id, i])); for (const i of t) { const o = ((r = n.get(i)) == null ? void 0 : r.title) ?? i.split("/").at(-1) ?? i; e.set(i, { id: i, title: o }) } return e } function oa(t, e) { const n = na(t), r = ia(e), i = /\[([^\]]+)\]\(([^)]+)\)/g, s = n.replace(i, (a, c, u) => { const d = String(c ?? "").trim(), l = String(u ?? "").trim().replace(/\.md$/i, ""); let h; if (r.has(l) && (h = l), !h && l.includes("/")) { const y = "/" + l.split("/").filter(Boolean).pop(), _ = l.split("/")[0], v = Array.from(r.keys()).filter(m => m.startsWith(_ + "/") && m.endsWith(y)); v.length === 1 && (h = v[0]) } if (!h) return ae(d || l); const f = r.get(h); return `<span class="dep" data-dep="${ae(f.id)}">${ae(f.title)}</span>` }).split(/\n\s*\n+/g).map(a => a.replace(/\s*\n\s*/g, " ").trim()).filter(Boolean); Me.innerHTML = s.map(a => `<p>${a}</p>`).join(""), Me.querySelectorAll("span.dep[data-dep]").forEach(a => { a.onclick = c => { c.preventDefault(), c.stopPropagation(); const u = a.dataset.dep; u && ra(u) } }) } function sa(t, e) { Xn.style.display = "block", Gn.textContent = t.title, Vn.textContent = `${t.relPath}.md`, oa(e, t.deps ?? []), Yn(t) } function At() { Xn.style.display = "none", Gn.textContent = "", Vn.textContent = "", Me.textContent = "", Yn(void 0) } function ut(t) { return t.split("/").filter(Boolean) } function Kn(t, e) { return t.slice(0, e).join("/") } function Un(t) { const e = ut(t); return e.slice(0, Math.max(1, e.length - 1)).join("/") } function aa(t) { const e = new Map(t.nodes.map(o => [o.id, o])), n = new Set; for (const o of t.nodes) { const [s] = ut(o.id); s && n.add(s) } const r = Array.from(n).sort(), i = new Map; for (const o of t.nodes) { const s = ut(o.id); for (let a = 1; a <= s.length - 1; a++) { const c = Kn(s, a), u = i.get(c) ?? []; u.push(o.id), i.set(c, u) } } for (const [o, s] of i) i.set(o, Array.from(new Set(s)).sort()); return { def: t, byId: e, childrenByPrefix: i, fields: r } } function yt(t) { const e = ut(t); return e.length === 1 ? `field:${e[0]}` : `cat:${t}` } function wt(t) { if (t.startsWith("field:")) return t.slice(6); if (t.startsWith("cat:")) return t.slice(4) } function on(t, e) { const n = ut(e); return n[n.length - 1] ?? e } function Rt(t, e) { const n = e + "/", r = new Set; for (const o of ca(t, e)) { const s = ut(o); r.add(s[s.length - 1] ?? o) } const i = new Set; for (const o of t.byId.keys()) { if (!o.startsWith(n)) continue; const a = o.slice(n.length).split("/").filter(Boolean); if (a.length < 2) continue; const c = a[0]; c && (r.has(c) || i.add(`${e}/${c}`)) } return Array.from(i).sort() } function ca(t, e) { const n = e + "/", r = []; for (const i of t.byId.keys()) i.startsWith(n) && Un(i) === e && r.push(i); return r.sort() } function la(t, e) { if (e.mode === "definitions") { const f = t.def.nodes.map(v => ({ ...v, kind: "leaf", owningGroup: Un(v.id), level: 0 })), y = t.def.edges.map(v => ({ ...v })), _ = new Map; for (const v of y) { const m = _.get(v.source) ?? []; m.push(v.target), _.set(v.source, m) } for (const v of f) v.deps = _.get(v.id) ?? v.deps ?? [], v.level = 0; return $e(f), { nodes: f, edges: y } } const n = [], r = f => n.push(f), i = f => e.expanded.has(f), o = (f, y) => { const _ = new Set(t.childrenByPrefix.get(f) ?? []), v = Array.from(y.keys()).map(m => wt(m)).filter(m => !!m).filter(m => m !== f && m.startsWith(f + "/")).sort((m, b) => b.length - m.length); for (const m of v) { const b = t.childrenByPrefix.get(m) ?? []; for (const E of b) _.delete(E) } return Array.from(_) }; for (const f of t.fields) { if (!i(f)) { r({ id: yt(f), title: f, relPath: f, filePath: "", deps: [], level: 0, kind: "field", owningGroup: void 0 }); continue } for (const y of Rt(t, f)) { const _ = Rt(t, y).length > 0; r({ id: yt(y), title: on(t, y), relPath: y, filePath: "", deps: [], level: 0, kind: _ ? "category" : "final-category", owningGroup: f }) } } let s = !0; for (; s;) { s = !1; const f = n.filter(y => y.kind === "category"); for (const y of f) { const _ = wt(y.id); if (!_ || !i(_)) continue; const v = n.findIndex(m => m.id === y.id); v >= 0 && n.splice(v, 1); for (const m of Rt(t, _)) { const b = Rt(t, m).length > 0; r({ id: yt(m), title: on(t, m), relPath: m, filePath: "", deps: [], level: 0, kind: b ? "category" : "final-category", owningGroup: _ }) } s = !0; break } } const a = new Map; for (const f of n) a.set(f.id, f); const c = Array.from(a.values()), u = f => { if (!t.byId.has(f)) return; const y = ut(f); for (let _ = y.length - 1; _ >= 1; _--) { const v = Kn(y, _), m = yt(v); if (a.has(m)) return m; if (_ === 1) { const b = y[0], E = yt(b); if (a.has(E)) return E } } }, d = new Set, l = []; for (const f of c) { const y = wt(f.id); if (!y) continue; const _ = o(y, a), v = new Set; for (const m of _) { const b = t.byId.get(m); if (b) for (const E of b.deps) v.add(E) } for (const m of v) { const b = u(m); if (!b || b === f.id) continue; const E = `${f.id}->${b}`; d.has(E) || (d.add(E), l.push({ source: f.id, target: b })) } } const h = new Map; for (const f of l) { const y = h.get(f.source) ?? []; y.push(f.target), h.set(f.source, y) } for (const f of c) f.deps = h.get(f.id) ?? [], f.level = 0; return $e(c), { nodes: c, edges: l } } function ua(t) { t.on("click.interact", (e, n) => { if (e.preventDefault(), e.stopPropagation(), L.mode === "definitions") { Wn(n.id); return } if (n.kind === "final-category") return; const r = wt(n.id); r && (L.expanded.has(r) ? L.expanded.delete(r) : L.expanded.add(r), At(), ft(!0)) }).on("contextmenu.interact", (e, n) => { if (e.preventDefault(), e.stopPropagation(), L.mode === "definitions") return; const r = n.owningGroup ?? wt(n.id); if (r) { for (const i of Array.from(L.expanded)) (i === r || i.startsWith(r + "/")) && L.expanded.delete(i); At(), ft(!0) } }) } const fa = fetch("./defs.json").then(t => t.json()).then(t => aa(t)), L = { expanded: new Set, selectedLeaf: void 0, mode: "definitions" }; let P = null; function Re() { if (!P) return; const t = Math.max(0, ...P.nodes.map(n => n.level ?? 0)); let e = t; for (let n = t; n >= 0; n--)if (P.nodes.some(i => { if ((i.level ?? 0) !== n) return !1; const o = F(i); return o === "ready" || o === "learned" })) { e = n; break } ze(e), Kt(e) } function ft(t) { const e = t ? zn(lt.node()) : null; fa.then(n => { const r = la(n, L); if (P = r, ea(r), e && lt.call(Le.transform, e), ee(), L.mode === "definitions" && !L.selectedLeaf && requestAnimationFrame(() => { Re() }), L.mode === "definitions" && L.selectedLeaf) { const i = r.nodes.find(o => o.id === L.selectedLeaf); i && Qn(i) } }).catch(n => { console.error(n) }) } function ze(t) { if (!P) return; const e = Bn ?? Hn(P), n = e.base + t * e.ringGap, r = 60, i = qn(), o = Fn(), s = 2 * n + r, a = Math.max(.12, Math.min(6, Math.min(i / s, o / s))), c = i / 2 - e.cx * a, u = o / 2 - e.cy * a; lt.transition().duration(650).call(Le.transform, jt.translate(c, u).scale(a)) } function ha(t) { if (!P) return; const e = P.nodes.find(n => n.id === t); e && ze(e.level ?? 0) } async function Qn(t) { if (!t.relPath) return; V = t.id, ee(); const e = t.content || "(no content)"; sa(t, e) } ft(!1); const ce = document.getElementById("focus") ?? document.getElementById("overview"); ce == null || ce.addEventListener("click", () => { if (!P) return; const t = Math.max(0, ...P.nodes.map(e => e.level ?? 0)); ze(t), Kt(t) }); const le = document.getElementById("resetProgress") ?? document.getElementById("reset"); le == null || le.addEventListener("click", () => { js(), On(), At(), ft(!0) }); const ue = document.getElementById("modeDefinitions"); ue == null || ue.addEventListener("click", () => { L.mode = "definitions", L.selectedLeaf = void 0, V = null, At(), ft(!0), requestAnimationFrame(() => { Re() }) }); const fe = document.getElementById("modeCategories"); fe == null || fe.addEventListener("click", () => { });
